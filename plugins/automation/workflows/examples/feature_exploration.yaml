workflow:
  name: "feature-exploration"
  version: "1.0"
  description: "Comprehensive exploration of a specific feature implementation"

  inputs:
    feature_name:
      type: string
      required: true
      description: "Name of the feature to explore"

    codebase_path:
      type: string
      required: true
      description: "Path to the codebase root directory"

  outputs:
    exploration_report:
      type: object
      description: "Complete feature exploration report"

  steps:
    # Step 1: Find the implementation
    - id: find_implementation
      type: agent
      agent: explore
      operation: find_implementation
      inputs:
        feature_or_function: "{{ inputs.feature_name }}"
        codebase_path: "{{ inputs.codebase_path }}"
      outputs:
        implementation_details: result
      config:
        cli_type: claude
        model: haiku

    # Step 2: Find where it's used
    - id: find_usage
      type: agent
      agent: explore
      operation: find_usage
      inputs:
        symbol: "{{ inputs.feature_name }}"
        codebase_path: "{{ inputs.codebase_path }}"
      depends_on: [find_implementation]
      outputs:
        usage_locations: result
      config:
        cli_type: claude
        model: haiku

    # Step 3: Explain the flow
    - id: explain_flow
      type: agent
      agent: explore
      operation: explain_flow
      inputs:
        flow_description: "{{ inputs.feature_name }} implementation and usage"
        codebase_path: "{{ inputs.codebase_path }}"
      depends_on: [find_implementation, find_usage]
      outputs:
        flow_explanation: result
      config:
        cli_type: claude
        model: haiku

  error_handling:
    on_failure: stop
    retry_policy:
      max_attempts: 2
      backoff: exponential
